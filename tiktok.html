<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>tiktok Free Video Downloader</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
        }

        body {
            background-color: #ffffff;
            min-height: 100vh;
        }

        .navbar {
            background-color: #ffffff;
            padding: 12px 16px;
            border-bottom: 1px solid #eff3f4;
            display: flex;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .back-button {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            margin-right: 16px;
            color: #1d9bf0;
        }

        .tiktok-logo {
            color: #1d9bf0;
            font-family: -apple-system, BlinkMacSystemFont, sans-serif;
            font-size: 24px;
            font-weight: 600;
        }

        .main-container {
            max-width: 600px;
            margin: 32px auto;
            padding: 0 16px;
        }

        .download-card {
            background-color: #ffffff;
            border: 1px solid #eff3f4;
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .mode-selector {
            display: flex;
            gap: 1px;
            margin-bottom: 20px;
            background: #eff3f4;
            padding: 2px;
            border-radius: 9999px;
        }

        .mode-btn {
            flex: 1;
            padding: 12px;
            border: none;
            font-size: 14px;
            cursor: pointer;
            background: transparent;
            color: #536471;
            border-radius: 9999px;
            transition: all 0.2s ease;
        }

        .mode-btn.active {
            background: #1d9bf0;
            color: #ffffff;
        }

        .download-section {
            display: none;
        }

        .download-section.active {
            display: block;
        }

        .input-group {
            margin-bottom: 20px;
        }

        .url-input {
            width: 100%;
            padding: 12px;
            border: 1px solid #eff3f4;
            border-radius: 9999px;
            font-size: 14px;
            margin-bottom: 12px;
        }

        .url-input:focus {
            outline: none;
            border-color: #1d9bf0;
        }

        .content-types {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 12px;
        }

        .content-type {
            background: #e8f5fd;
            border-radius: 9999px;
            padding: 8px 16px;
            font-size: 13px;
            color: #1d9bf0;
        }

        .help-text {
            font-size: 14px;
            color: #536471;
            margin-top: 8px;
            padding: 12px;
            background: #f7f9f9;
            border-radius: 16px;
            border-left: 4px solid #1d9bf0;
        }

        .code-block {
            background: #15202b;
            color: #ffffff;
            padding: 12px;
            border-radius: 16px;
            font-family: monospace;
            margin-top: 12px;
            position: relative;
            font-size: 13px;
            line-height: 1.4;
        }

        .copy-btn {
            position: absolute;
            top: 8px;
            right: 8px;
            background: rgba(255,255,255,0.1);
            border: none;
            color: white;
            padding: 4px 8px;
            border-radius: 9999px;
            cursor: pointer;
            font-size: 12px;
        }

        .steps-container {
            margin-top: 20px;
        }

        .step {
            display: flex;
            align-items: flex-start;
            margin-bottom: 16px;
            padding: 16px;
            background: #f7f9f9;
            border-radius: 16px;
        }

        .step-number {
            background: #1d9bf0;
            color: white;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 12px;
            flex-shrink: 0;
            font-size: 14px;
        }

        .step-content {
            flex-grow: 1;
            font-size: 14px;
            line-height: 1.5;
            color: #536471;
        }
    </style>
</head>
<body>
    <nav class="navbar">
        <button class="back-button" onclick="window.location.href='index.html'">‚Üê</button>
        <div class="tiktok-logo">tiktok</div>
    </nav>

    <div class="main-container">
        <div class="download-card">
            <div class="mode-selector">
                <button class="mode-btn active" data-mode="single">Single Tweet</button>
                <button class="mode-btn" data-mode="bulk">Profile Media</button>
            </div>

            <!-- Single Download Section -->
            <div class="download-section active" id="single-download">
                <div class="input-group">
                    <input type="text" class="url-input" placeholder="Paste Tweet URL">
                    <div class="content-types">
                        <span class="content-type">Images</span>
                        <span class="content-type">Videos</span>
                        <span class="content-type">GIFs</span>
                    </div>
                    <div class="help-text">
                        How to download:
                        1. Copy the code below
                        2. Open the Tweet in a new tab
                        3. Press F12 to open DevTools
                        4. Paste the code in the Console tab and press Enter
                    </div>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode('single')">Copy</button>
                        <code id="single-code">
                            // tiktok Single Media Download Script
                            (function(){
                                const images = document.querySelectorAll('img[src*="pbs.twimg.com/media"]');
                                const videos = document.querySelectorAll('video source');
                                
                                if(images.length > 0) {
                                    images.forEach((img, index) => {
                                        const imgUrl = img.src.replace('?format=jpg&name=small', '?format=jpg&name=large');
                                        const a = document.createElement('a');
                                        a.href = imgUrl;
                                        a.download = `tiktok-image-${index + 1}.jpg`;
                                        document.body.appendChild(a);
                                        a.click();
                                        document.body.removeChild(a);
                                    });
                                }
                                
                                if(videos.length > 0) {
                                    videos.forEach((source, index) => {
                                        const videoUrl = source.src;
                                        const a = document.createElement('a');
                                        a.href = videoUrl;
                                        a.download = `tiktok-video-${index + 1}.mp4`;
                                        document.body.appendChild(a);
                                        a.click();
                                        document.body.removeChild(a);
                                    });
                                }
                            })();
                        </code>
                    </div>
                </div>
            </div>

            <!-- Bulk Download Section -->
            <div class="download-section" id="bulk-download">
                <div class="input-group">
                    <input type="text" class="url-input" placeholder="Paste tiktok profile URL">
                    <div class="help-text">
                        How to download profile media:
                        1. Open the tiktok profile
                        2. Copy the code below
                        3. Open DevTools (F12)
                        4. Paste in Console and press Enter
                        5. Wait for the script to scroll and collect media
                    </div>
                    <div class="code-block">
                        <button class="copy-btn" onclick="copyCode('bulk')">Copy</button>
                        <code id="bulk-code">
                            // tiktok Profile Media Download Script
                            (async function(){
                                const delay = ms => new Promise(res => setTimeout(res, ms));
                                const mediaUrls = new Set();
                                
                                async function scrollToBottom() {
                                    const scrollHeight = () => document.documentElement.scrollHeight;
                                    let lastHeight = scrollHeight();
                                    
                                    while(true) {
                                        window.scrollTo(0, scrollHeight());
                                        await delay(1500);
                                        
                                        const newHeight = scrollHeight();
                                        if(newHeight === lastHeight) break;
                                        lastHeight = newHeight;
                                    }
                                }
                                
                                function collectMediaUrls() {
                                    document.querySelectorAll('img[src*="pbs.twimg.com/media"]').forEach(img => {
                                        const fullResUrl = img.src.replace('?format=jpg&name=small', '?format=jpg&name=large');
                                        mediaUrls.add(fullResUrl);
                                    });
                                    
                                    document.querySelectorAll('video source').forEach(source => {
                                        if(source.src) mediaUrls.add(source.src);
                                    });
                                }
                                
                                console.log('Starting media collection...');
                                await scrollToBottom();
                                collectMediaUrls();
                                console.log(`Found ${mediaUrls.size} media items`);
                                
                                Array.from(mediaUrls).forEach((url, index) => {
                                    const a = document.createElement('a');
                                    a.href = url;
                                    const extension = url.includes('mp4') ? 'mp4' : 'jpg';
                                    a.download = `tiktok-media-${index + 1}.${extension}`;
                                    document.body.appendChild(a);
                                    a.click();
                                    document.body.removeChild(a);
                                });
                            })();
                        </code>
                    </div>
                </div>
            </div>

            <div class="steps-container">
                <div class="step">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <strong>Sign in to tiktok</strong> to access all media content
                    </div>
                </div>
                <div class="step">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <strong>Enable pop-ups</strong> in your browser for automatic downloads
                    </div>
                </div>
                <div class="step">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        For profile downloads, <strong>be patient</strong> while the script collects media
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.querySelectorAll('.mode-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                document.querySelectorAll('.mode-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                
                document.querySelectorAll('.download-section').forEach(section => {
                    section.classList.remove('active');
                });
                document.getElementById(`${btn.dataset.mode}-download`).classList.add('active');
            });
        });

        function copyCode(type) {
            const codeElement = document.getElementById(`${type}-code`);
            const code = codeElement.textContent.trim();
            
            navigator.clipboard.writeText(code).then(() => {
                const copyBtn = codeElement.previousElementSibling;
                copyBtn.textContent = 'Copied!';
                setTimeout(() => {
                    copyBtn.textContent = 'Copy';
                }, 2000);
            });
        }
    </script>
</body>
</html>
